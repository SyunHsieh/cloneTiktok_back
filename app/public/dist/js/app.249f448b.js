(function(t){function e(e){for(var r,i,s=e[0],c=e[1],u=e[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"076f":function(t,e,n){"use strict";var r=n("c3d0"),a=n.n(r);a.a},"2f22":function(t,e,n){},3807:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{key:t.$route.fullpath})],1)},o=[],i={name:"App",components:{}},s=i,c=(n("034f"),n("2877")),u=Object(c["a"])(s,a,o,!1,null,null,null),l=u.exports,d=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"homediv"},[t.homePageData.length>0?n("commentsPage",{ref:"commentsDiv",attrs:{currentCommentId:t.homePageData[t.currentPostIndex].postInfo.id},on:{deactivePage:t.commentPageDeactive,commentCountUpdate:t.updateCommentCountEvent}}):t._e(),n("div",{staticClass:"topbar"},[n("button",{staticClass:"searchBtn"},[n("svg",{staticClass:"toolIcon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("g",{attrs:{"data-name":"Layer 2"}},[n("g",{attrs:{"data-name":"search"}},[n("rect",{attrs:{width:"24",height:"24",opacity:"0"}}),n("path",{attrs:{d:"M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"}})])])])])]),n("itemInViewportList",{ref:"IVList",attrs:{detectScrollElement:t.window,that:this,triggerRules:t.rules},on:{scrollInViewport:t.itemInViewportFunc},inlineTemplate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.that.homePageData,(function(e,r){return n("inViewportItem",{key:e.postInfo.id+""+r,attrs:{that:t.that},inlineTemplate:{render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"item"},[a("div",{staticClass:"socialToolsDiv"},[a("button",{staticClass:"toolsbtn",class:e.readersInfo.liked?"liked":"",on:{click:function(n){return t.that._setLikePost(e.postInfo.id,!e.readersInfo.liked)}}},[a("svg",{staticClass:"toolIcon",staticStyle:{"enable-background":"new 0 0 47.5 47.5"},attrs:{viewBox:"0 0 47.5 47.5"}},[a("defs",{attrs:{id:"defs6"}},[a("clipPath",{attrs:{id:"clipPath16",clipPathUnits:"userSpaceOnUse"}},[a("path",{attrs:{id:"path18",d:"M 0,38 38,38 38,0 0,0 0,38 Z"}})])]),a("g",{attrs:{transform:"matrix(1.25,0,0,-1.25,0,47.5)",id:"g10"}},[a("g",{attrs:{id:"g12"}},[a("g",{attrs:{"clip-path":"url(#clipPath16)",id:"g14"}},[a("g",{attrs:{transform:"translate(36.8848,25.1665)",id:"g20"}},[a("path",{staticStyle:{"fill-opacity":"1","fill-rule":"nonzero",stroke:"none"},attrs:{id:"path22",d:"m 0,0 c 0,5.45 -4.418,9.868 -9.867,9.868 -3.308,0 -6.227,-1.633 -8.018,-4.129 -1.79,2.496 -4.71,4.129 -8.017,4.129 -5.45,0 -9.868,-4.418 -9.868,-9.868 0,-0.772 0.098,-1.52 0.266,-2.241 1.371,-8.512 10.835,-17.494 17.619,-19.96 6.783,2.466 16.249,11.448 17.617,19.96 C -0.098,-1.52 0,-0.772 0,0"}})])])])])]),a("span",[t._v(t._s(e.postInfo.likesCount))])]),a("button",{staticClass:"toolsbtn",on:{click:t.that.commentsClick}},[a("svg",{staticClass:"toolIcon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M8,11a1,1,0,1,0,1,1A1,1,0,0,0,8,11Zm4,0a1,1,0,1,0,1,1A1,1,0,0,0,12,11Zm4,0a1,1,0,1,0,1,1A1,1,0,0,0,16,11ZM12,2A10,10,0,0,0,2,12a9.89,9.89,0,0,0,2.26,6.33l-2,2a1,1,0,0,0-.21,1.09A1,1,0,0,0,3,22h9A10,10,0,0,0,12,2Zm0,18H5.41l.93-.93a1,1,0,0,0,.3-.71,1,1,0,0,0-.3-.7A8,8,0,1,1,12,20Z"}})]),a("span",[t._v(t._s(e.postInfo.commentsCount))])])]),e?a("div",{staticClass:"postDiv"},[a("h3",[t._v(t._s("@"+e.userInfo.name))]),a("span",[t._v(t._s(e.postInfo.text))])]):t._e(),r==t.that.currentPostIndex||r==t.that.currentPostIndex-1||r==t.that.currentPostIndex+1?a("video",{staticClass:"video",attrs:{id:["video"+r],contorls:"",autoplay:r==t.that.currentPostIndex,loop:""},domProps:{muted:r!=t.that.currentPostIndex}},[a("source",{attrs:{src:e.postInfo.videourl,type:"video/mp4"}})]):t._e()])},staticRenderFns:[]}})})),1)},staticRenderFns:[]}}),n("div",{staticClass:"bottombar"},[n("button",{on:{click:function(e){return t.$router.push("/createPost")}}},[t._v("+")])])],1)},p=[],f=(n("d81d"),n("a434"),n("96cf"),n("1da1")),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("inViewportItem")],1)},v=[],g=(n("b0c0"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"whole",n=t.getBoundingClientRect();if(0==n.width||0==n.height)return!1;var r=Math.round(n.top),a=Math.round(n.bottom),o=Math.round(n.left),i=Math.round(n.right),s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight,c=window.innerWidth?window.innerWidth:document.documentElement.clientWidth,u=r>=0&&r<=s,l=a>=0&&a<=s,d=o>=0&&o<=c,m=i>=0&&i<=c;return"block"==e?(u||l)&&(d||m):u&&l&&d&&m}),w=function(t){var e=function(){return Math.round(t.scrollLeft?t.scrollLeft:window.pageXOffset||t.scrollLeft)},n=function(){return Math.round(t.scrollTop?t.scrollTop:window.pageYOffset)},r=e(),a=n();return function(){var t="",o="",i=e(),s=n();t=a!=s?"y":r!=i?"x":"none";var c="y"==t?s-a:"x"==t?i-r:0;return o=c>0?"forward":0!=c?"reverse":"none",r=i,a=s,{axis:t,direction:o}}},x=g,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"testItem"},[t._v("asdasd")])},I=[],b={name:"inViewportItem",props:["that"],methods:{}},C=b,_=Object(c["a"])(C,y,I,!1,null,null,null),P=_.exports,k={name:"itemInViewportList",components:{inViewportItem:P},props:["triggerRules","that","detectScrollElement"],data:function(){return{triggerFunction:void 0,scrollElements:void 0}},methods:{checkItemInViewpart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block",n=[];for(var r in this.$children)"inViewportItem"==this.$children[r].$options.name&&n.splice(n.length,0,this.$children[r]);if(!(t<0||n.length<=t))return x(n[t].$el,e)},_registerScrollEvents:function(){var t=this,e=w(this.scrollElements),n=[];return function(){var r=t.triggerRules;if(r&&t.$children){var a=[];for(var o in t.$children)"inViewportItem"==t.$children[o].$options.name&&a.splice(a.length,0,t.$children[o]);if(!(a.length<=0)&&t._checkRules(r,a.length)){if(n.length!=r.length)for(var i in r)n.splice(i,0,x(a[r[i].index].$el,r[i].inViewportType));var s=[],c=e();if("none"!=c.axis){for(var u in r){var l=r[u],d=x(a[l.index].$el,l.inViewportType);d?(0==(l.direction!=c.direction&&"any"!=l.direction||l.axis!=c.axis&&"any"!=l.axis||"flash"==l.type&&n[u]||"continue"==l.type&&!n[u])&&s.splice(s.splice,0,{index:l.index,direction:c.direction,axis:c.axis,type:n[u]?"continue":"flash",inViewportType:l.inViewportType}),n[u]=!0):n[u]=!1}s.length>0&&t.$emit("scrollInViewport",s)}}}}},_checkRules:function(t,e){for(var n in t){var r=t[n];if(r.index<0||r.index>=e)return!1;if("forward"!=r.direction&&"reverse"!=r.direction&&"any"!=r.direction)return!1;if("x"!=r.axis&&"y"!=r.axis&&"any"!=r.axis)return!1;if("flash"!=r.type&&"continue"!=r.type&&"any"!=r.type)return!1;if("whole"!=r.inViewportType&&"block"!=r.inViewportType)return!1}return!0}},mounted:function(){"function"==typeof this.detectScrollElement?this.scrollElements=this.detectScrollElement():this.scrollElements=this.detectScrollElement,this.triggerFunction=this._registerScrollEvents(),this.scrollElements.addEventListener("scroll",this.triggerFunction)},destroyed:function(){this.scrollElements.removeEventListener("scroll",this.triggerFunction)}},R=k,O=Object(c["a"])(R,h,v,!1,null,null,null),D=O.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"commentsDiv",staticClass:"commentsDiv"},[n("div",{staticClass:"comment-topdiv"},[n("span",[t._v("Comments")]),n("button",{on:{click:t.deactivePage}},[t._v("X")])]),n("div",{ref:"detectScroll",staticClass:"contentDiv detectScrollDiv"},[n("itemInViewportList",{attrs:{detectScrollElement:t.getDetectElement,that:this,triggerRules:t.inViewportRules},on:{scrollInViewport:t.fetchCommentDataAndSetRules},inlineTemplate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.that.commentsData,(function(e){return n("inViewportItem",{key:e.commentInfo.id,attrs:{that:t.that},inlineTemplate:{render:function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"commentContentDiv"},[r("span",{staticClass:"commentName"},[t._v(t._s(e.userInfo.name))]),r("span",{staticClass:"commentText"},[t._v(t._s(e.commentInfo.text))]),r("span",{staticClass:"commentTime"},[t._v(t._s(e.commentInfo.datetime))])])},staticRenderFns:[]}})})),t.that.endOfComments?n("div",{staticClass:"endOfComment"},[t._v(" End of comments. ")]):t._e()],2)},staticRenderFns:[]}})],1),n("div",{staticClass:"commentEditDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"type something..."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("button",{on:{click:t.sendComment}},[t._v("send")])])])},$=[],V=n("bc3a"),S=n.n(V);function j(t,e){"create_account"!=t||"Successed"!=e?("Not login."==e&&dt.push("/login").catch((function(){})),"Successed"==e&&dt.push("/").catch((function(){})),console.log(t," : ",e)):dt.push("/login")}var T={get:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=o.length>2&&void 0!==o[2]&&o[2],n.withCredentials=!!r,t.next=5,S.a.get(e,n);case 5:return a=t.sent,j(a.data.type,a.data.msg),t.abrupt("return",a.data);case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),delete:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=o.length>2&&void 0!==o[2]&&o[2],n.withCredentials=!!r,t.next=5,S.a.delete(e,n);case 5:return a=t.sent,j(a.data.type,a.data.msg),t.abrupt("return",a.data);case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),post:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,o,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},a=i.length>3&&void 0!==i[3]&&i[3],r.withCredentials=!!a,t.next=5,S.a.post(e,n,r);case 5:return o=t.sent,j(o.data.type,o.data.msg),t.abrupt("return",o.data);case 8:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),put:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,o,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},a=i.length>3&&void 0!==i[3]&&i[3],r.withCredentials=!!a,t.next=5,S.a.put(e,n,r);case 5:return o=t.sent,j(o.data.type,o.data.msg),t.abrupt("return",o.data);case 8:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),patch:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,o,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},a=i.length>3&&void 0!==i[3]&&i[3],r.withCredentials=!!a,t.next=5,S.a.patch(e,n,r);case 5:return o=t.sent,j(o.data.type,o.data.msg),t.abrupt("return",o.data);case 8:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},L=T,F={name:"commentsPage",components:{itemInViewportList:D,inViewportItem:P},props:["currentCommentId"],data:function(){var t=this;return{text:"",commentsData:[],count:6,offset:0,endOfComments:!1,inViewportRules:[],getDetectElement:function(){return t.$refs.detectScroll},isFetching:!1,needUpdate:!0}},watch:{currentCommentId:function(){this.needUpdate=!0}},methods:{initCommentsPage:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commentsData=[],t.offset=0,t.endOfComments=!1,t.inViewportRules=[],t.fetchCommentDataAndSetRules();case 5:case"end":return e.stop()}}),e)})))()},fetchCommentDataAndSetRules:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isFetching){e.next=2;break}return e.abrupt("return");case 2:return t.isFetching=!0,e.next=5,L.get("/api"+"/post/".concat(t.currentCommentId,"/comments"),{params:{count:t.count,offset:t.offset}},!0);case 5:n=e.sent,n.data.comments.length<t.count&&(t.endOfComments=!0),t.offset+=n.data.comments.length,"Successed"==n.msg&&n.data.comments.map((function(e){t.commentsData.splice(t.commentsData.length,0,e)})),t.autoSetRules(),t.isFetching=!1;case 11:case"end":return e.stop()}}),e)})))()},autoSetRules:function(){var t=[];t.splice(0,0,{index:this.commentsData.length-1,direction:"any",axis:"y",type:"any",inViewportType:"block"}),r["a"].set(this,"inViewportRules",t),console.log(this.inViewportRules)},sendComment:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("/api"+"/post/".concat(t.currentCommentId,"/comment"),{comment:t.text},{},!0);case 2:n=e.sent,"Successed"==n.msg&&(t.text="",t.initCommentsPage(),t.$emit("commentCountUpdate",n.data.postid,n.data.commentscount));case 4:case"end":return e.stop()}}),e)})))()},activePage:function(){this.$refs.commentsDiv.classList.add("commentsDivActive"),this.needUpdate&&(this.initCommentsPage(),this.needUpdate=!1)},deactivePage:function(){this.$emit("deactivePage"),this.$refs.commentsDiv.classList.remove("commentsDivActive")}}},N=F,M=(n("8008"),Object(c["a"])(N,E,$,!1,null,null,null)),A=M.exports,B={name:"tiktokHome",components:{itemInViewportList:D,inViewportItem:P,commentsPage:A},data:function(){return{fetchCount:3,fetchOffset:0,isFetchedEndposts:!1,rules:void 0,triggeredItemIndex:void 0,currentPostIndex:0,homePageData:[],window:window}},watch:{currentPostIndex:function(){var t=function(t){void 0!=t&&(t.pause(),t.currentTime=0)},e=document.getElementById("video".concat(this.currentPostIndex)),n=document.getElementById("video".concat(this.currentPostIndex)),r=document.getElementById("video".concat(this.currentPostIndex));t(n),t(r),e.currentTime=0,e.play()}},methods:{updateCommentCountEvent:function(t,e){this.homePageData.map((function(n){n.postInfo.id==t&&(n.postInfo.commentsCount=e)}))},commentPageDeactive:function(){var t=document.querySelector("body");t.classList.remove("disableScroll")},commentsClick:function(){this.$refs.commentsDiv.activePage();var t=document.querySelector("body");t.classList.add("disableScroll")},_setLikePost:function(t,e){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,o,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a="/post/".concat(t,"/like"),!e){r.next=7;break}return r.next=4,L.post("/api"+a,{},{},!0);case 4:r.t0=r.sent,r.next=10;break;case 7:return r.next=9,L.delete("/api"+a,{},{},!0);case 9:r.t0=r.sent;case 10:if(o=r.t0,o.data)for(i in n.homePageData)s=n.homePageData[i],s.postInfo.id==o.data.postid&&(s.readersInfo.liked=o.data.likeStatus,s.postInfo.likesCount=o.data.likescount);case 12:case"end":return r.stop()}}),r)})))()},_getViewportItemTop:function(t){for(var e in this.$refs.IVList.$children)if(e==t){var n=this.$refs.IVList.$children[e].$el;return n.offsetTop}},_autoSetRules:function(){var t=[];0!=this.currentPostIndex&&t.splice(0,0,{index:this.currentPostIndex-1,direction:"any",axis:"y",type:"continue",inViewportType:"block"}),this.currentPostIndex<this.homePageData.length-1&&t.splice(0,0,{index:this.currentPostIndex+1,direction:"any",axis:"y",type:"continue",inViewportType:"block"}),r["a"].set(this,"rules",t)},itemInViewportFunc:function(t){r["a"].set(this,"triggeredItemIndex",t[0].index)},afterTouchEndFunc:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.currentPostIndex==t.homePageData.length-2&&t.getPostData();case 1:case"end":return e.stop()}}),e)})))()},getPostData:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.get("/api/posts",{params:{count:t.fetchCount,offset:t.fetchOffset}},!0);case 2:return n=e.sent,r=n.data.length,r<t.fetchOffset&&(t.isFetchedEndposts=!0),t.fetchOffset+=r,t.isFetchedEndposts&&(t.fetchOffset=0),n.data.map((function(e){t.homePageData.splice(t.homePageData.length,0,e)})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getPostData();case 2:t._autoSetRules(),window.addEventListener("touchstart",(function(){t.triggeredItemIndex=void 0})),window.addEventListener("touchend",(function(){if(void 0!=t.triggeredItemIndex){var e=t._getViewportItemTop(t.triggeredItemIndex);window.scrollTo(0,e),t.currentPostIndex=t.triggeredItemIndex,t.triggeredItemIndex=void 0,t._autoSetRules(),t.afterTouchEndFunc()}}));case 5:case"end":return e.stop()}}),e)})))()}},U=B,Z=(n("8213"),Object(c["a"])(U,m,p,!1,null,null,null)),H=Z.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fillDiv"},[n("h1",[t._v("Clone Tiktok")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"account..."},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"password..."},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{staticClass:"postBtn",on:{click:t.Login}},[t._v(t._s("Login"))]),n("a",{staticClass:"hrefClass",on:{click:function(e){return t.$router.push("/register")}}},[t._v("Go to Register")])])},W=[],q={name:"login",data:function(){return{account:"",password:"",userName:"",routeName:""}},methods:{Login:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("/api/auth",{account:t.account,password:t.password},{},!0);case 2:case"end":return e.stop()}}),e)})))()},resendToken:function(){return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.get("/api/auth",{},!0);case 2:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.routeName=t.$route.name,"register"!=t.routeName&&t.resendToken();case 2:case"end":return e.stop()}}),e)})))()}},G=q,J=(n("076f"),Object(c["a"])(G,z,W,!1,null,"1e427459",null)),X=J.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fillDiv"},[n("h1",[t._v("Clone Tiktok Register")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"account..."},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"password..."},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{type:"text",placeholder:"user name..."},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}}),n("button",{staticClass:"postBtn",on:{click:t.Register}},[t._v(t._s("Register"))]),n("a",{staticClass:"hrefClass",on:{click:function(e){return t.$router.push("/login")}}},[t._v("Go to Login")])])},K=[],Q={name:"register",data:function(){return{account:"",password:"",userName:""}},methods:{Register:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.post("/api/user",{account:t.account,password:t.password,name:t.userName},{},!0);case 2:case"end":return e.stop()}}),e)})))()}}},tt=Q,et=(n("8d37"),Object(c["a"])(tt,Y,K,!1,null,"f468edf0",null)),nt=et.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fillDiv createDiv"},[n("input",{ref:"videoReader",staticClass:"fileInput",attrs:{type:"file",accept:".mp4"},on:{change:t.inputFileChange}}),n("p",{staticClass:"fileName"},[t._v(t._s(t.file.name))]),n("button",{staticClass:"fileSelBtn",on:{click:t.selFileClick}},[t._v("Select File")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"postText",attrs:{type:"text",maxlength:"200",placeholder:"type something..."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("button",{staticClass:"postBtn",on:{click:t.createPost}},[t._v("Create Post")])])},at=[],ot={name:"createPost",data:function(){return{text:"",file:""}},methods:{createPost:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("file",t.file),n.append("text",t.text),e.next=5,L.post("/api/post",n,{},!0);case 5:case"end":return e.stop()}}),e)})))()},inputFileChange:function(t){this.file=t.target.files[0]},selFileClick:function(){this.$refs.videoReader.click()}}},it=ot,st=(n("5f78"),Object(c["a"])(it,rt,at,!1,null,"43b26cfc",null)),ct=st.exports;r["a"].use(d["a"]);var ut=[{path:"/",name:"home",component:H},{path:"/user/:userid",name:"user",component:H},{path:"/login",name:"login",component:X},{path:"/register",name:"register",component:nt},{path:"/createPost",name:"createPost",component:ct}],lt=new d["a"]({routes:ut}),dt=lt;r["a"].config.productionTip=!1,new r["a"]({router:dt,render:function(t){return t(l)}}).$mount("#app")},"5f78":function(t,e,n){"use strict";var r=n("3807"),a=n.n(r);a.a},"746b":function(t,e,n){},8008:function(t,e,n){"use strict";var r=n("746b"),a=n.n(r);a.a},8213:function(t,e,n){"use strict";var r=n("2f22"),a=n.n(r);a.a},"85ec":function(t,e,n){},"8d37":function(t,e,n){"use strict";var r=n("f55c"),a=n.n(r);a.a},c3d0:function(t,e,n){},f55c:function(t,e,n){}});
//# sourceMappingURL=app.249f448b.js.map