(function(t){function e(e){for(var r,a,s=e[0],c=e[1],u=e[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={app:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("85ec"),o=n.n(r);o.a},"1a08":function(t,e,n){"use strict";var r=n("a036"),o=n.n(r);o.a},"2f22":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{key:t.$route.fullpath})],1)},i=[],a={name:"App",components:{}},s=a,c=(n("034f"),n("2877")),u=Object(c["a"])(s,o,i,!1,null,null,null),l=u.exports,d=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"homediv"},[n("div",{staticClass:"topbar"},[n("button",{staticClass:"searchBtn"},[n("svg",{staticClass:"toolIcon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("g",{attrs:{"data-name":"Layer 2"}},[n("g",{attrs:{"data-name":"search"}},[n("rect",{attrs:{width:"24",height:"24",opacity:"0"}}),n("path",{attrs:{d:"M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"}})])])])])]),n("itemInViewportList",{ref:"IVList",attrs:{that:this,triggerRules:t.rules},on:{scrollInViewport:t.itemInViewportFunc},inlineTemplate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.that.homePageData,(function(e){return n("inViewportItem",{key:e.postInfo.id,attrs:{that:t.that},inlineTemplate:{render:function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"item"},[r("div",{staticClass:"socialToolsDiv"},[r("button",{staticClass:"toolsbtn"},[r("svg",{staticClass:"toolIcon",attrs:{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 98 98"}},[r("g",{attrs:{"data-name":"<Group>"}},[r("path",{attrs:{d:"M66.1,16.3A22.2,22.2,0,0,0,49,24.2a21.9,21.9,0,0,0-17.1-7.9A22.4,22.4,0,0,0,9.5,38.7c0,21.2,37,41.9,38.5,42.7a1.8,1.8,0,0,0,2,0c1.5-.8,38.5-21.2,38.5-42.7A22.4,22.4,0,0,0,66.1,16.3ZM49,77.4C43.2,74,13.5,55.9,13.5,38.7A18.4,18.4,0,0,1,31.9,20.3a18,18,0,0,1,15.4,8.3,2.1,2.1,0,0,0,3.4,0A18.4,18.4,0,0,1,84.5,38.7C84.5,56.1,54.8,74.1,49,77.4Z","data-name":"<Compound Path>"}})])]),r("span",[t._v(t._s(e.postInfo.likesCount))])]),r("button",{staticClass:"toolsbtn"},[r("svg",{staticClass:"toolIcon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M8,11a1,1,0,1,0,1,1A1,1,0,0,0,8,11Zm4,0a1,1,0,1,0,1,1A1,1,0,0,0,12,11Zm4,0a1,1,0,1,0,1,1A1,1,0,0,0,16,11ZM12,2A10,10,0,0,0,2,12a9.89,9.89,0,0,0,2.26,6.33l-2,2a1,1,0,0,0-.21,1.09A1,1,0,0,0,3,22h9A10,10,0,0,0,12,2Zm0,18H5.41l.93-.93a1,1,0,0,0,.3-.71,1,1,0,0,0-.3-.7A8,8,0,1,1,12,20Z"}})]),r("span",[t._v(t._s(e.postInfo.commentCount))])])]),r("div",{staticClass:"postDiv"},[r("h3",[t._v(t._s("@"+e.ownerInfo.name))]),r("span",[t._v(t._s(e.postInfo.postText))])]),r("video",{staticClass:"video",attrs:{contorls:"",autoplay:"",muted:"",loop:""},domProps:{muted:!0}},[r("source",{attrs:{src:e.postInfo.videoPath,type:"video/mp4"}})])])},staticRenderFns:[]}})})),1)},staticRenderFns:[]}}),t._m(0)],1)},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottombar"},[n("button",[t._v("+")])])}],f=(n("a434"),n("96cf"),n("1da1")),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("inViewportItem")],1)},v=[],g=(n("b0c0"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"whole",n=t.getBoundingClientRect();if(0==n.width||0==n.height)return!1;var r=Math.round(n.top),o=Math.round(n.bottom),i=Math.round(n.left),a=Math.round(n.right),s=document.documentElement.clientHeight||window.innerHeight,c=document.documentElement.clientWidth||window.innerWidth,u=r>=0&&r<=s,l=o>=0&&o<=s,d=i>=0&&i<=c,p=a>=0&&a<=c;return"block"==e?(u||l)&&(d||p):u&&l&&d&&p}),w=function(t){var e=function(){return Math.round(window.pageXOffset||t.scrollLeft)},n=function(){return Math.round(window.pageYOffset||t.scrollTop)},r=e(),o=n();return function(){var t="",i="",a=e(),s=n();t=o!=s?"y":r!=a?"x":"none";var c="y"==t?s-o:"x"==t?a-r:0;return i=c>0?"forward":0!=c?"reverse":"none",r=a,o=s,{axis:t,direction:i}}},x=g,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"testItem"},[t._v("asdasd")])},I=[],b={name:"inViewportItem",props:["that"],methods:{}},_=b,C=Object(c["a"])(_,y,I,!1,null,null,null),k=C.exports,P={name:"itemInViewportList",components:{inViewportItem:k},props:["triggerRules","that"],data:function(){return{triggerFunction:void 0}},methods:{checkItemInViewpart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block",n=[];for(var r in this.$children)"inViewportItem"==this.$children[r].$options.name&&n.splice(n.length,0,this.$children[r]);if(!(t<0||n.length<=t))return x(n[t].$el,e)},_registerScrollEvents:function(){var t=this,e=document.querySelector("body"),n=w(e),r=[];return function(){var e=t.triggerRules;if(e&&t.$children){var o=[];for(var i in t.$children)"inViewportItem"==t.$children[i].$options.name&&o.splice(o.length,0,t.$children[i]);if(!(o.length<=0)&&t._checkRules(e,o.length)){if(r.length!=e.length)for(var a in e)r.splice(a,0,x(o[e[a].index].$el,e[a].inViewportType));var s=[],c=n();if("none"!=c.axis){for(var u in e){var l=e[u],d=x(o[l.index].$el,l.inViewportType);d?(0==(l.direction!=c.direction&&"any"!=l.direction||l.axis!=c.axis&&"any"!=l.axis||"flash"==l.type&&r[u]||"continue"==l.type&&!r[u])&&s.splice(s.splice,0,{index:l.index,direction:c.direction,axis:c.axis,type:r[u]?"continue":"flash",inViewportType:l.inViewportType}),r[u]=!0):r[u]=!1}s.length>0&&t.$emit("scrollInViewport",s)}}}}},_checkRules:function(t,e){for(var n in t){var r=t[n];if(r.index<0||r.index>=e)return!1;if("forward"!=r.direction&&"reverse"!=r.direction&&"any"!=r.direction)return!1;if("x"!=r.axis&&"y"!=r.axis&&"any"!=r.axis)return!1;if("flash"!=r.type&&"continue"!=r.type&&"any"!=r.type)return!1;if("whole"!=r.inViewportType&&"block"!=r.inViewportType)return!1}return!0}},mounted:function(){this.triggerFunction=this._registerScrollEvents(),window.addEventListener("scroll",this.triggerFunction)},destroyed:function(){var t=document.querySelector("body");t.removeEventListener("scroll",this.triggerFunction)}},V=P,$=Object(c["a"])(V,m,v,!1,null,null,null),R=$.exports,T={name:"tiktokHome",components:{itemInViewportList:R,inViewportItem:k},data:function(){return{rules:void 0,triggeredItemIndex:void 0,currentPostIndex:0,homePageData:[{ownerInfo:{id:0,name:"aaa",image:void 0},postInfo:{id:0,videoPath:"/testvideo/1.mp4",postText:"Clone video 0",likesCount:0,commentCount:0},readerInfo:{isLike:!1,isFolowing:!1}},{ownerInfo:{id:1,name:"bbb",image:void 0},postInfo:{id:1,videoPath:"/testvideo/2.mp4",postText:"Clone video 1",likesCount:1,commentCount:11},readerInfo:{isLike:!1,isFolowing:!1}},{ownerInfo:{id:2,name:"ccc",image:void 0},postInfo:{id:2,videoPath:"/testvideo/3.mp4",postText:"Clone video 2",likesCount:2,commentCount:22},readerInfo:{isLike:!1,isFolowing:!1}}]}},methods:{_getViewportItemTop:function(t){for(var e in this.$refs.IVList.$children)if(e==t){var n=this.$refs.IVList.$children[e].$el;return n.offsetTop}},_autoSetRules:function(){var t=[];0!=this.currentPostIndex&&t.splice(0,0,{index:this.currentPostIndex-1,direction:"any",axis:"y",type:"continue",inViewportType:"block"}),this.currentPostIndex<this.homePageData.length-1&&t.splice(0,0,{index:this.currentPostIndex+1,direction:"any",axis:"y",type:"continue",inViewportType:"block"}),r["a"].set(this,"rules",t)},itemInViewportFunc:function(t){r["a"].set(this,"triggeredItemIndex",t[0].index)},afterTouchEndFunc:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n,r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.homePageData.length-2,r=5,t.currentPostIndex==n)for(o=0;o<r;o++)i={ownerInfo:{id:t.homePageData.length,name:"123aaa",image:void 0},postInfo:{id:t.homePageData.length,videoPath:"/testvideo/1.mp4",postText:"Clone video ".concat(t.homePageData.length),likesCount:t.homePageData.length,commentCount:33},readerInfo:{isLike:!1,isFolowing:!1}},console.log(i),t.homePageData.splice(t.homePageData.length,0,i);case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;this._autoSetRules(),window.addEventListener("touchstart",(function(){t.triggeredItemIndex=void 0})),window.addEventListener("touchend",(function(){if(void 0!=t.triggeredItemIndex){var e=t._getViewportItemTop(t.triggeredItemIndex);window.scrollTo(0,e),t.currentPostIndex=t.triggeredItemIndex,t.triggeredItemIndex=void 0,t._autoSetRules(),t.afterTouchEndFunc()}}))}},O=T,j=(n("8213"),Object(c["a"])(O,p,h,!1,null,null,null)),L=j.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loginDiv"},[n("h1",[t._v("Clone Tiktok")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",placeholder:"account..."},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"password..."},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{on:{click:t.Login}},[t._v("Login")]),n("button",{on:{click:t.test}},[t._v("test")]),t._v("t ")])},M=[],A=n("bc3a"),F=n.n(A);function D(t,e){"Not login."==e&&W.push("/login").catch((function(){})),console.log(t," : ",e)}var S={get:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var n,r,o,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]&&i[2],n.withCredentials=!!r,console.log(n),t.next=6,F.a.get(e,n);case 6:return o=t.sent,D(o.data.type,o.data.msg),t.abrupt("return",o.data);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),delete:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var n,r,o,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]&&i[2],n.withCredentials=!!r,t.next=5,F.a.delete(e,n);case 5:return o=t.sent,D(o.data.type,o.data.msg),t.abrupt("return",o.data);case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),post:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,i,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},o=a.length>3&&void 0!==a[3]&&a[3],r.withCredentials=!!o,t.next=5,F.a.post(e,n,r);case 5:return i=t.sent,D(i.data.type,i.data.msg),t.abrupt("return",i.data);case 8:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),put:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,i,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},o=a.length>3&&void 0!==a[3]&&a[3],r.withCredentials=!!o,t.next=5,F.a.put(e,n,r);case 5:return i=t.sent,D(i.data.type,i.data.msg),t.abrupt("return",i.data);case 8:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),patch:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e,n){var r,o,i,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},o=a.length>3&&void 0!==a[3]&&a[3],r.withCredentials=!!o,t.next=5,F.a.patch(e,n,r);case 5:return i=t.sent,D(i.data.type,i.data.msg),t.abrupt("return",i.data);case 8:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},Z=S,B={name:"login",data:function(){return{account:"",password:""}},methods:{test:function(){return Object(f["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Z.get("http://127.0.0.1:8000/api/auth",{params:{count:3,offset:0}},!0);case 2:e=t.sent,console.log("http://127.0.0.1:8000/api",e);case 4:case"end":return t.stop()}}),t)})))()},Login:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Z.post("http://127.0.0.1:8000/api/auth",{account:t.account,password:t.password},{},!0);case 2:n=e.sent,console.log("http://127.0.0.1:8000/api",n);case 4:case"end":return e.stop()}}),e)})))()}}},H=B,N=(n("1a08"),Object(c["a"])(H,E,M,!1,null,"7886b8fc",null)),q=N.exports;r["a"].use(d["a"]);var z=[{path:"/",name:"home",component:L},{path:"/user/:userid",name:"user",component:L},{path:"/login",name:"login",component:q}],J=new d["a"]({routes:z}),W=J;r["a"].config.productionTip=!1,new r["a"]({router:W,render:function(t){return t(l)}}).$mount("#app")},8213:function(t,e,n){"use strict";var r=n("2f22"),o=n.n(r);o.a},"85ec":function(t,e,n){},a036:function(t,e,n){}});
//# sourceMappingURL=app.2914d5a4.js.map